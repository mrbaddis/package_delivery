!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=o(e);if(t){var a=o(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r(this,n)}}function r(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"8D2i":function(t,r,o){"use strict";o.r(r),o.d(r,"PackagesModule",(function(){return U}));var s=o("ofXK"),c=o("tyNb"),l=o("3Pt+"),u=o("aceb"),d=o("D/fu"),f=o("UgA8"),p=o("Bxrs"),m=o("RS3s"),g=o("pLZG"),h=o("lJxs"),v=o("vkgz"),b=o("LRne"),k=o("fXoL"),y=["autoInput"];function w(e,t){if(1&e){var n=k["\u0275\u0275getCurrentView"]();k["\u0275\u0275elementStart"](0,"nb-option",4),k["\u0275\u0275listener"]("click",(function(){k["\u0275\u0275restoreView"](n);var e=t.$implicit;return k["\u0275\u0275nextContext"]().onSelectionChange(e)})),k["\u0275\u0275text"](1),k["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;k["\u0275\u0275property"]("value",i.combined),k["\u0275\u0275advance"](1),k["\u0275\u0275textInterpolate1"](" ",i.combined," ")}}var S,C,D=((C=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(o,t);var r=a(o);function o(t,n){var i;return e(this,o),(i=r.call(this)).userApi=t,i.courierService=n,i.users=[],i}return n(o,[{key:"ngAfterViewInit",value:function(){if(""!==this.cell.newValue){var e=JSON.parse(this.cell.getValue());this.input.nativeElement.value="".concat(e.firstName," ").concat(e.lastName," ").concat(this.pad(e.mailboxes[0].mailboxNumber))}this.getCustomerList()}},{key:"getCustomerList",value:function(){var e=this;this.userApi.find({where:{realm:this.courierService.getRealm()},fields:{id:!0,firstName:!0,lastName:!0,mailboxes:!0},include:{relation:"mailboxes",scope:{fields:{id:!0,mailboxNumber:!0}}}}).pipe(Object(h.a)((function(t){return t.map((function(t){return Object.assign(Object.assign({},t),{combined:"".concat(t.firstName," ").concat(t.lastName," ").concat(e.pad(t.mailboxes[0].mailboxNumber))})}))}))).subscribe((function(t){e.users=t}))}},{key:"pad",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=""+e;n.length<t;)n="0"+n;return"".concat(this.courierService.getRealm(),"-").concat(n)}},{key:"filter",value:function(e){var t=e.toLowerCase();return this.users.filter((function(e){return e.combined.toLowerCase().includes(t)}))}},{key:"getFilteredOptions",value:function(e){var t=this;return Object(b.a)(e).pipe(Object(h.a)((function(e){return t.filter(e)})))}},{key:"onChange",value:function(){this.filteredUsers$=this.getFilteredOptions(this.input.nativeElement.value)}},{key:"onSelectionChange",value:function(e){this.cell.setValue(JSON.stringify(e))}}]),o}(m.a)).\u0275fac=function(e){return new(e||C)(k["\u0275\u0275directiveInject"](d.e),k["\u0275\u0275directiveInject"](f.a))},C.\u0275cmp=k["\u0275\u0275defineComponent"]({type:C,selectors:[["ngx-custom-user-search"]],viewQuery:function(e,t){var n;1&e&&k["\u0275\u0275viewQuery"](y,!0),2&e&&k["\u0275\u0275queryRefresh"](n=k["\u0275\u0275loadQuery"]())&&(t.input=n.first)},features:[k["\u0275\u0275InheritDefinitionFeature"]],decls:6,vars:5,consts:[["nbInput","","type","text","placeholder","Search customer",3,"disabled","nbAutocomplete","input"],["autoInput",""],["auto",""],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"]],template:function(e,t){if(1&e&&(k["\u0275\u0275elementStart"](0,"input",0,1),k["\u0275\u0275listener"]("input",(function(){return t.onChange()})),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](2,"nb-autocomplete",null,2),k["\u0275\u0275template"](4,w,2,2,"nb-option",3),k["\u0275\u0275pipe"](5,"async"),k["\u0275\u0275elementEnd"]()),2&e){var n=k["\u0275\u0275reference"](3);k["\u0275\u0275property"]("disabled",!t.cell.isEditable())("nbAutocomplete",n),k["\u0275\u0275advance"](4),k["\u0275\u0275property"]("ngForOf",k["\u0275\u0275pipeBind1"](5,3,t.filteredUsers$))}},directives:[u.I,u.m,u.l,s.m,u.V],pipes:[s.b],styles:[""]}),C),I=((S=function(){function t(n){e(this,t),this.courierService=n}return n(t,[{key:"ngOnInit",value:function(){var e=JSON.parse(this.value.toString());this.renderValue="".concat(this.pad(e.mailboxes[0].mailboxNumber)," - ").concat(e.firstName," ").concat(e.lastName)}},{key:"pad",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=""+e;n.length<t;)n="0"+n;return""+n}}]),t}()).\u0275fac=function(e){return new(e||S)(k["\u0275\u0275directiveInject"](f.a))},S.\u0275cmp=k["\u0275\u0275defineComponent"]({type:S,selectors:[["ngx-customer-view-render"]],inputs:{value:"value",rowData:"rowData"},decls:1,vars:1,template:function(e,t){1&e&&k["\u0275\u0275text"](0),2&e&&k["\u0275\u0275textInterpolate1"]("",t.renderValue,"\n")},styles:[""]}),S),x=o("kmnG"),F=o("7ZcW"),P=["table"];function A(e,t){if(1&e){var n=k["\u0275\u0275getCurrentView"]();k["\u0275\u0275elementStart"](0,"button",26),k["\u0275\u0275listener"]("click",(function(){return k["\u0275\u0275restoreView"](n),k["\u0275\u0275nextContext"](),k["\u0275\u0275reference"](21).open()})),k["\u0275\u0275text"](1,"Import Packages"),k["\u0275\u0275elementEnd"]()}}function j(e,t){if(1&e){var n=k["\u0275\u0275getCurrentView"]();k["\u0275\u0275elementStart"](0,"button",27),k["\u0275\u0275listener"]("click",(function(){return k["\u0275\u0275restoreView"](n),k["\u0275\u0275nextContext"]().importPackages()})),k["\u0275\u0275text"](1,"Upload File"),k["\u0275\u0275elementEnd"]()}if(2&e){var i=k["\u0275\u0275nextContext"]();k["\u0275\u0275property"]("disabled",i.fileUploadForm.invalid)}}function N(e,t){if(1&e){var n=k["\u0275\u0275getCurrentView"]();k["\u0275\u0275elementStart"](0,"nb-icon",28),k["\u0275\u0275listener"]("click",(function(){return k["\u0275\u0275restoreView"](n),k["\u0275\u0275nextContext"]().fileUploadForm.reset()})),k["\u0275\u0275elementEnd"]()}}var E,O,B,R=[{path:"",component:(E=function(){function t(n,i,a,r,o,s,c,l,u,d,f,p,g){e(this,t),this.packageApi=n,this.invoiceApi=i,this.toast=a,this.auth=r,this.userApi=o,this.nbMenuService=s,this.window=c,this.elRef=l,this._renderer=u,this.fb=d,this.uploadService=f,this.mailbankApi=p,this.courierService=g,this.bulkActions=[{title:"Mark as Pre-Alert",data:"Pre Alert"},{title:"Mark as At Warehouse",data:"At Warehouse"},{title:"Mark as In Transit",data:"In Transit"},{title:"Mark as Ready",data:"Ready"},{title:"Mark as Delivered",data:"Delivered"},{title:"Delete Packages",data:"Delete"}],this.settingsFiltered={pager:{perPage:50},selectMode:"multi",add:{inputClass:"text-black",confirmCreate:!0,addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},edit:{confirmSave:!0,inputClass:"text-black",editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},actions:{add:!0,edit:!0,delete:!1,position:"right"},columns:{customer:{title:"Customer",type:"custom",filter:!1,renderComponent:I,editor:{type:"custom",component:D}},trackingNo:{title:"Track No.",type:"string",filter:!1,valuePrepareFunction:function(e){return e.length>10?e.substr(0,10)+"...":e}},manifestNumber:{title:"Manifest #",type:"string",filter:!1},description:{title:"Desc.",type:"string",filter:!1,valuePrepareFunction:function(e){return e.length>10?e.substr(0,10)+"...":e}},weight:{title:"Weight",type:"number",filter:!1,width:"10px"},status:{title:"Status",type:"string",filter:!1,editor:{type:"list",config:{list:[{value:"Pre Alert",title:"Pre Alert"},{value:"At Warehouse",title:"At Warehouse"},{value:"In Transit",title:"In Transit"},{value:"Ready",title:"Ready"},{value:"Delivered",title:"Delivered"}]}}}}},this.settingsDefault={pager:{perPage:50},selectMode:"multi",add:{inputClass:"text-black",confirmCreate:!0,addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},edit:{confirmSave:!0,inputClass:"text-black",editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},actions:{add:!0,edit:!0,delete:!1,position:"right"},columns:{id:{title:"Id",width:"0px",type:"number",filter:!1,editable:!1,addable:!1},customer:{title:"Customer",type:"custom",filter:!1,renderComponent:I,editor:{type:"custom",component:D}},trackingNo:{title:"Track No.",type:"string",filter:!1,valuePrepareFunction:function(e){return e.length>10?e.substr(0,10)+"...":e}},manifestNumber:{title:"Manifest #",type:"string",filter:!1},description:{title:"Desc.",type:"string",filter:!1,valuePrepareFunction:function(e){return e.length>10?e.substr(0,10)+"...":e}},value:{title:"Value",type:"number",filter:!1},customsFee:{title:"Cstm Fee",type:"number",filter:!1},weight:{title:"Weight",type:"number",filter:!1,width:"10px"},merchant:{title:"Merchant",type:"string",filter:!1},createdOn:{title:"Date Created",type:"date",filter:!1},status:{title:"Status",type:"string",filter:!1,editor:{type:"list",config:{list:[{value:"Pre Alert",title:"Pre Alert"},{value:"At Warehouse",title:"At Warehouse"},{value:"In Transit",title:"In Transit"},{value:"Ready",title:"Ready"},{value:"Delivered",title:"Delivered"}]}}}}},this.settings={pager:{perPage:10},selectMode:"multi",add:{inputClass:"text-black",confirmCreate:!0,addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},edit:{confirmSave:!0,inputClass:"text-black",editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},actions:{add:!0,edit:!0,delete:!1,position:"right"},columns:{id:{title:"Id",width:"0px",type:"number",filter:!1,editable:!1,addable:!1},customer:{title:"Customer",type:"custom",filter:!1,renderComponent:I,editor:{type:"custom",component:D}},trackingNo:{title:"Track No.",type:"string",filter:!1,valuePrepareFunction:function(e){return e.length>10?e.substr(0,10)+"...":e}},manifestNumber:{title:"Manifest #",type:"string",filter:!1},description:{title:"Desc.",type:"string",filter:!1,valuePrepareFunction:function(e){return e.length>10?e.substr(0,10)+"...":e}},value:{title:"Value",type:"number",filter:!1},customsFee:{title:"Cstm Fee",type:"number",filter:!1},weight:{title:"Weight",type:"number",filter:!1,width:"10px"},merchant:{title:"Merchant",type:"string",filter:!1},createdOn:{title:"Date Created",type:"date",filter:!1},status:{title:"Status",type:"string",filter:!1,editor:{type:"list",config:{list:[{value:"Pre Alert",title:"Pre Alert"},{value:"At Warehouse",title:"At Warehouse"},{value:"In Transit",title:"In Transit"},{value:"Ready",title:"Ready"},{value:"Delivered",title:"Delivered"}]}}}}},this.selected=[],this.packageDataSource=new m.b,this.showTable=!1,this.showDelivered=!1,this.acceptedFileTypes=[".csv"],this.packages=[],this.isAdmin=!1,this.isAdmin="administrator"===localStorage.getItem("role"),this.isAdmin||(this.settings.actions.add=!1,this.settings.actions.edit=!1,this.bulkActions.pop(),delete this.settings.columns.customsFee,delete this.settings.columns.value,delete this.settings.columns.merchant)}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.selected=[],this.menuSubscription=this.nbMenuService.onItemClick().pipe(Object(g.a)((function(e){return"bulk-actions-menu"===e.tag})),Object(h.a)((function(e){return{title:e.item.title,data:e.item.data}}))).subscribe((function(t){return e.bulkAction(t)})),this.getPackages(),this.fileUploadForm=this.fb.group({file:[null,[l.v.required]]})}},{key:"fixTableEdit",value:function(){}},{key:"ngOnDestroy",value:function(){this.menuSubscription.unsubscribe()}},{key:"getPackages",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{neq:"Delivered"};this.packageApi.find({where:{courierId:this.courierService.getId(),status:t},order:"id DESC",include:{relation:"owner",scope:{fields:["id","firstName","lastName"],include:{relation:"mailboxes",scope:{fields:{id:!0,mailboxNumber:!0}}}}}}).pipe(Object(v.a)((function(t){e.packages=t})),Object(h.a)((function(e){return e.map((function(e){return Object.assign(Object.assign({},e),{createdOn:new Date(e.createdOn).toLocaleDateString(),customer:JSON.stringify(e.owner)})}))}))).subscribe((function(t){e.packageDataSource=new m.b(t)}))}},{key:"onPackageSearch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.length<3?this.packageDataSource.setFilter([]):this.packageDataSource.setFilter([{field:"customer",search:e},{field:"trackingNo",search:e},{field:"manifestNumber",search:e},{field:"id",search:e}],!1)}},{key:"onDeleteConfirm",value:function(e){var t=this;window.confirm("Are you sure you want to delete this package?")?this.packageApi.deleteById(e.data.id).subscribe((function(n){t.toast.success("Package successfully deleted","Success!"),e.confirm.resolve()}),(function(t){e.confirm.reject()})):e.confirm.reject()}},{key:"onCreateConfirm",value:function(e){var t,n,i,a=this;return e.newData.customer?(e.newData.customer=JSON.parse(e.newData.customer),e.newData.trackingNo?e.newData.description?e.newData.value<=0?(this.toast.danger("Value is invalid","Add Package Failed"),void e.confirm.reject()):e.newData.weight?e.newData.weight<=0?(this.toast.danger("Weight is invalid","Add Package Failed"),void e.confirm.reject()):e.newData.status?void this.packageApi.create({trackingNo:e.newData.trackingNo,description:e.newData.description,weight:e.newData.weight,status:e.newData.status,merchant:e.newData.merchant,value:null!==(t=e.newData.value)&&void 0!==t?t:1,customsFee:null!==(n=e.newData.customsFee)&&void 0!==n?n:0,ownerId:e.newData.customer.id,manifestNumber:e.newData.manifestNumber,courierId:this.courierService.getId(),createdBy:null!==(i=this.auth.getCurrentUserId())&&void 0!==i?i:-1,source:"Admin"}).subscribe((function(t){a.toast.success("Package successfully created","Success!"),a.getPackages(),e.confirm.resolve()}),(function(t){a.toast.danger("Failed to create package "+t.message,"Failed!"),e.confirm.reject()})):(this.toast.danger("Status is required","Add Package Failed"),void e.confirm.reject()):(this.toast.danger("Weight is required","Add Package Failed"),void e.confirm.reject()):(this.toast.danger("Description is required","Add Package Failed"),void e.confirm.reject()):(this.toast.danger("Tracking No is required","Add Package Failed"),void e.confirm.reject())):(this.toast.danger("Choose a customer from the list","Add Package Failed"),void e.confirm.reject())}},{key:"onEditConfirm",value:function(e){var t=this;console.log(e.newData);var n=JSON.parse(e.newData.customer);this.packageApi.patchAttributes(e.newData.id,{trackingNo:e.newData.trackingNo,description:e.newData.description,weight:e.newData.weight,status:e.newData.status,value:e.newData.value,customsFee:e.newData.customsFee,ownerId:n.id,manifestNumber:e.newData.manifestNumber,merchant:e.newData.merchant}).subscribe((function(n){t.toast.success("Package successfully updated","Success!"),e.confirm.resolve()}),(function(n){t.toast.danger("Failed to update package","Failed!"),e.confirm.reject()}))}},{key:"onUserRowSelect",value:function(e){this.selected=e.selected}},{key:"bulkAction",value:function(e){"Delete"===e.data?confirm("Are you sure you want to bulk delete these items")&&this.bulkPackageDelete():this.bulkUpdatePackageStatus(e.data)}},{key:"bulkPackageDelete",value:function(){var e=this,t=this.selected.map((function(e){return e.id}));if(0!==t.length){var n=0,i=0,a=t.length;t.forEach((function(t){e.packageApi.deleteById(t).subscribe((function(t){a--,n++,0===a&&(e.toast.success("".concat(n," packages successfully deleted, ").concat(i," packages failed to be deleted"),"Delete Success"),e.selected=[],e.getPackages())}),(function(e){i++}))}))}}},{key:"bulkUpdatePackageStatus",value:function(e){var t=this,n=this.selected.map((function(e){return e.id}));if(0!==n.length){if("Ready"===e&&!confirm("Marking these as ready will automatically send an invoice, Are you sure you want to continue?"))return;this.packageApi.updatePackageStatus(n,e).subscribe((function(e){t.toast.success("Packages updated successfully","Success!");var n={neq:"Delivered"};t.showDelivered&&(n="Delivered"),t.getPackages(n),t.selected=[]}),(function(e){t.toast.danger(e.message,"Failed to update packages")}))}}},{key:"bulkSendInvoice",value:function(){var e=this,t=this.selected.map((function(e){return e.id}));t.length<=0||this.mailbankApi.bulkSendInvoices(t).subscribe((function(t){e.toast.success("Invoices queued up for sending.","Success!"),e.selected=[]}),(function(t){e.toast.danger(t.message,"Failed to Send Invoices")}))}},{key:"toggleShowDelivered",value:function(e){var t={neq:"Delivered"};!0===e&&(t="Delivered"),this.getPackages(t)}},{key:"importPackages",value:function(){var e=this;this.uploadService.uploadFile(this.fileUploadForm.value.file,"Uploads",this.courierService.getId().toString()).subscribe((function(t){e.packageApi.importPackagesFromCsv(e.courierService.getId(),t.name).subscribe((function(t){e.toast.success("".concat(t.success," packages successfully imported out of ").concat(t.total),"File Import Result",{duration:1e4}),t.failed>0&&e.toast.danger(t.failed+" packages failed to be imported","File Import Failed",{duration:1e4}),t.exists>0&&e.toast.warning(t.exists+" packages were not imported because they already exist","File Import Duplicates",{duration:1e4}),e.fileUploadForm.reset(),e.getPackages()}),(function(t){e.toast.danger("Failed to import packages "+t.message,"Failed to import")}))}),(function(t){e.toast.danger("Failed to upload file "+t.message,"Failed")}))}},{key:"toggleFields",value:function(e){this.settings=e?this.settingsFiltered:this.settingsDefault}},{key:"onLimitChange",value:function(e){this.settings.pager.perPage=e,this.packageDataSource.setPaging(1,e)}}]),t}(),E.\u0275fac=function(e){return new(e||E)(k["\u0275\u0275directiveInject"](d.b),k["\u0275\u0275directiveInject"](d.g),k["\u0275\u0275directiveInject"](u.mb),k["\u0275\u0275directiveInject"](d.i),k["\u0275\u0275directiveInject"](d.e),k["\u0275\u0275directiveInject"](u.U),k["\u0275\u0275directiveInject"](u.f),k["\u0275\u0275directiveInject"](k.ElementRef),k["\u0275\u0275directiveInject"](k.Renderer2),k["\u0275\u0275directiveInject"](l.c),k["\u0275\u0275directiveInject"](p.a),k["\u0275\u0275directiveInject"](d.k),k["\u0275\u0275directiveInject"](f.a))},E.\u0275cmp=k["\u0275\u0275defineComponent"]({type:E,selectors:[["ngx-packages"]],viewQuery:function(e,t){var n;1&e&&k["\u0275\u0275viewQuery"](P,!0),2&e&&k["\u0275\u0275queryRefresh"](n=k["\u0275\u0275loadQuery"]())&&(t.table=n.first)},decls:41,vars:11,consts:[[1,"flex-between"],[1,"search"],["placeholder","Search... Enter 2 or more characters","type","text","nbInput","",3,"keydown"],["search",""],["nbSuffix","","nbButton","","ghost","",3,"click"],["icon","search-outline","pack","eva"],[3,"ngModel","checkedChange","ngModelChange"],[1,"m-l-10",3,"checkedChange"],[1,"table-actions"],["nbButton","","status","success","nbContextMenuTag","bulk-actions-menu",3,"disabled","nbContextMenu"],[3,"formGroup"],[1,"hidden"],["multiple","false",3,"accept","formControl"],["fileInput",""],["nbButton","","outline","","status","primary",3,"click",4,"ngIf"],["nbButton","","outline","","status","success",3,"disabled","click",4,"ngIf"],["icon","close-outline","pack","eva",3,"click",4,"ngIf"],[3,"settings","source","userRowSelect","deleteConfirm","createConfirm","editConfirm"],["table",""],["placeholder","Page Limit",3,"selectedChange"],["value","10"],["value","25"],["value","50"],["value","100"],["value","500"],["value","1000"],["nbButton","","outline","","status","primary",3,"click"],["nbButton","","outline","","status","success",3,"disabled","click"],["icon","close-outline","pack","eva",3,"click"]],template:function(e,t){if(1&e){var n=k["\u0275\u0275getCurrentView"]();k["\u0275\u0275elementStart"](0,"nb-card"),k["\u0275\u0275elementStart"](1,"nb-card-header"),k["\u0275\u0275text"](2," Packages "),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](3,"nb-card-body"),k["\u0275\u0275elementStart"](4,"div",0),k["\u0275\u0275elementStart"](5,"div"),k["\u0275\u0275elementStart"](6,"nb-form-field",1),k["\u0275\u0275elementStart"](7,"input",2,3),k["\u0275\u0275listener"]("keydown",(function(){k["\u0275\u0275restoreView"](n);var e=k["\u0275\u0275reference"](8);return t.onPackageSearch(e.value)})),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](9,"button",4),k["\u0275\u0275listener"]("click",(function(){k["\u0275\u0275restoreView"](n);var e=k["\u0275\u0275reference"](8);return t.onPackageSearch(e.value)})),k["\u0275\u0275element"](10,"nb-icon",5),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](11,"nb-toggle",6),k["\u0275\u0275listener"]("checkedChange",(function(e){return t.toggleShowDelivered(e)}))("ngModelChange",(function(e){return t.showDelivered=e})),k["\u0275\u0275text"](12,"Show Delivered"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](13,"nb-toggle",7),k["\u0275\u0275listener"]("checkedChange",(function(e){return t.toggleFields(e)})),k["\u0275\u0275text"](14,"Hide Unnecessary Fields"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](15,"div",8),k["\u0275\u0275elementStart"](16,"button",9),k["\u0275\u0275text"](17,"BULK ACTIONS"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](18,"form",10),k["\u0275\u0275elementStart"](19,"mat-form-field",11),k["\u0275\u0275element"](20,"ngx-mat-file-input",12,13),k["\u0275\u0275elementEnd"](),k["\u0275\u0275template"](22,A,2,0,"button",14),k["\u0275\u0275template"](23,j,2,1,"button",15),k["\u0275\u0275template"](24,N,1,0,"nb-icon",16),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](25,"ng2-smart-table",17,18),k["\u0275\u0275listener"]("userRowSelect",(function(e){return t.onUserRowSelect(e)}))("deleteConfirm",(function(e){return t.onDeleteConfirm(e)}))("createConfirm",(function(e){return t.onCreateConfirm(e)}))("editConfirm",(function(e){return t.onEditConfirm(e)})),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](27,"nb-card-footer"),k["\u0275\u0275elementStart"](28,"nb-select",19),k["\u0275\u0275listener"]("selectedChange",(function(e){return t.onLimitChange(e)})),k["\u0275\u0275elementStart"](29,"nb-option",20),k["\u0275\u0275text"](30," 10 "),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](31,"nb-option",21),k["\u0275\u0275text"](32," 25 "),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](33,"nb-option",22),k["\u0275\u0275text"](34," 50 "),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](35,"nb-option",23),k["\u0275\u0275text"](36," 100 "),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](37,"nb-option",24),k["\u0275\u0275text"](38," 500 "),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](39,"nb-option",25),k["\u0275\u0275text"](40," 1000 "),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"]()}2&e&&(k["\u0275\u0275advance"](11),k["\u0275\u0275property"]("ngModel",t.showDelivered),k["\u0275\u0275advance"](5),k["\u0275\u0275property"]("disabled",0===t.selected.length)("nbContextMenu",t.bulkActions),k["\u0275\u0275advance"](2),k["\u0275\u0275property"]("formGroup",t.fileUploadForm),k["\u0275\u0275advance"](2),k["\u0275\u0275property"]("accept",t.acceptedFileTypes)("formControl",t.fileUploadForm.controls.file),k["\u0275\u0275advance"](2),k["\u0275\u0275property"]("ngIf",!t.fileUploadForm.controls.file.value&&t.isAdmin),k["\u0275\u0275advance"](1),k["\u0275\u0275property"]("ngIf",t.fileUploadForm.controls.file.value),k["\u0275\u0275advance"](1),k["\u0275\u0275property"]("ngIf",t.fileUploadForm.controls.file.value),k["\u0275\u0275advance"](1),k["\u0275\u0275property"]("settings",t.settings)("source",t.packageDataSource))},directives:[u.r,u.t,u.q,u.D,u.I,u.o,u.eb,u.F,u.nb,l.m,l.p,u.y,l.x,l.n,l.f,x.a,F.a,l.e,s.n,m.c,u.s,u.X,u.V],styles:[".hidden[_ngcontent-%COMP%]{display:none}.m-l-10[_ngcontent-%COMP%]{margin-left:1rem}"]}),E)}],M=((B=function t(){e(this,t)}).\u0275mod=k["\u0275\u0275defineNgModule"]({type:B}),B.\u0275inj=k["\u0275\u0275defineInjector"]({factory:function(e){return new(e||B)},imports:[[c.g.forChild(R)],c.g]}),B),U=((O=function t(){e(this,t)}).\u0275mod=k["\u0275\u0275defineNgModule"]({type:O}),O.\u0275inj=k["\u0275\u0275defineInjector"]({factory:function(e){return new(e||O)},imports:[[s.c,M,m.d,u.J,u.E,u.H,u.p,u.z,u.n,u.u,u.ob,u.Y,l.g,l.s,F.b,u.E,x.c]]}),O)}}])}();